"use strict";angular.module("login",["ngCookies","LocalStorageModule","fpiwebapp.login.service","angular-md5"]).controller("LoginController",["$location","$scope","$rootScope","$cookieStore","$http","$window","localStorageService","LoginService","md5",function(a,b,c,d,e,f,g,h,i){b.category="WW",b.user=g.get("currentUser"),b.categoryin=g.get("currentCategory"),b.user&&b.categoryin&&(f.location.href="/app/#/cate/"+b.categoryin),b.userName="",b.passWord="",b.login=function(){b.userName&&b.passWord&&h.query({userName:b.userName,passWord:i.createHash(b.passWord)},function(a){var c=a;"true"==c.result?(g.set("currentUser",b.userName),g.set("currentRegions",c.name),g.set("currentRegionCode",c.id),f.location.href="/app/#/cate/"+b.category):(k.showTips(),console.log("a"))})},$("input").on("focus",function(){$(this).parent().next().removeClass("border-image-left-right-1px-login").addClass("border-image-left-right-1px-login-current"),$(this).parent().next().find(".line2").removeClass("border-image-bottom-1px-login").addClass("border-image-bottom-1px-login-current")}).on("blur",function(){$(this).parent().next().removeClass("border-image-left-right-1px-login-current").addClass("border-image-left-right-1px-login"),$(this).parent().next().find(".line2").removeClass("border-image-bottom-1px-login-current").addClass("border-image-bottom-1px-login")});var j=function(){this.tips=null};j.prototype={init:function(){this.createDom()},showTips:function(){var a=this;$(a.tips).show()},hideTips:function(){var a=this;$(a.tips).hide()},createDom:function(){this.tips=$('<div><img src="app/images/error.png" width="15" height="15" border="0"><span>请输入正确的用户名或密码</span></div>'),$(this.tips).addClass("tipsCls"),$("body").append(this.tips)}};var k=new j;k.init()}]),angular.module("fpiwebapp.login.service",["ngResource"]).factory("LoginService",["$resource",function(a){return a("http://122.224.196.67:10001/mobile/mobile/load/login.do",{callback:"JSON_CALLBACK"},{query:{method:"JSONP"}})}]);